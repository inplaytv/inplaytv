<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lobby Settings - InPlay TV</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="background-container"></div>

    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-left">
                <div class="nav-brand">
                    <i class="fas fa-golf-ball"></i>
                    <span>InPlay TV</span>
                </div>
            </div>
            
            <!-- Desktop Navigation -->
            <div class="nav-links">
                <a href="home.html" class="nav-link">Home</a>
                <a href="tournaments.html" class="nav-link">Tournaments</a>
                <a href="scorecards.html" class="nav-link">Team Builder</a>
                <a href="index.html" class="nav-link">Scorecards</a>
                <a href="leaderboard.html" class="nav-link">Leaderboards</a>
                <a href="lobby.html" class="nav-link">Lobby</a>
            </div>
            
            <div class="nav-user" onclick="toggleUserDropdown()">
                <div class="user-balance">
                    <span class="balance-amount">Â£2,450</span>
                    <i class="fas fa-wallet"></i>
                </div>
                <div class="user-avatar">
                    <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=40&h=40&fit=crop&crop=face" alt="User" id="navAvatarImg">
                    <i class="fas fa-chevron-down user-dropdown-arrow"></i>
                </div>
                
                <!-- User Dropdown Menu -->
                <div class="user-dropdown" id="userDropdown">
                    <div class="user-dropdown-header">
                        <div class="dropdown-user-avatar">
                            <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=50&h=50&fit=crop&crop=face" alt="User" id="dropdownAvatarImg">
                        </div>
                        <div class="dropdown-user-info">
                            <div class="dropdown-user-name" id="dropdownUserName">John Smith</div>
                            <div class="dropdown-user-email" id="dropdownUserEmail">john.smith@example.com</div>
                        </div>
                    </div>
                    <div class="user-dropdown-divider"></div>
                    <div class="user-dropdown-menu">
                        <a href="profile.html" class="dropdown-item">
                            <i class="fas fa-user"></i>
                            <span>My Profile</span>
                        </a>
                        <a href="lobby-settings.html" class="dropdown-item active">
                            <i class="fas fa-cog"></i>
                            <span>Account Settings</span>
                        </a>
                        <div class="dropdown-item dropdown-toggle-item" onclick="handleRowClick()">
                            <div class="dropdown-toggle-content">
                                <i class="fas fa-moon"></i>
                                <span>Dark Mode</span>
                            </div>
                            <label class="dropdown-toggle-switch" onclick="event.stopPropagation();">
                                <input type="checkbox" id="darkModeToggle" onclick="toggleDarkMode()">
                                <span class="dropdown-toggle-slider"></span>
                            </label>
                        </div>
                        <a href="#" class="dropdown-item" onclick="showTransactionHistory()">
                            <i class="fas fa-receipt"></i>
                            <span>Transaction History</span>
                        </a>
                        <a href="#" class="dropdown-item" onclick="showNotifications()">
                            <i class="fas fa-bell"></i>
                            <span>Notifications</span>
                        </a>
                        <div class="user-dropdown-divider"></div>
                        <a href="#" class="dropdown-item" onclick="showHelp()">
                            <i class="fas fa-question-circle"></i>
                            <span>Help & Support</span>
                        </a>
                        <a href="#" class="dropdown-item logout" onclick="handleLogout()">
                            <i class="fas fa-sign-out-alt"></i>
                            <span>Sign Out</span>
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- Mobile Hamburger Menu -->
            <button class="hamburger-menu" onclick="toggleMobileMenu()" aria-label="Toggle navigation menu">
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
            </button>
        </div>
        
        <!-- Mobile Navigation Menu -->
        <div class="mobile-nav" id="mobileNav">
            <div class="mobile-nav-content">
                <div class="mobile-nav-links">
                    <a href="home.html" class="mobile-nav-link">
                        <i class="fas fa-home"></i>
                        <span>Home</span>
                    </a>
                    <a href="tournaments.html" class="mobile-nav-link">
                        <i class="fas fa-trophy"></i>
                        <span>Tournaments</span>
                    </a>
                    <a href="scorecards.html" class="mobile-nav-link">
                        <i class="fas fa-users"></i>
                        <span>Team Builder</span>
                    </a>
                    <a href="index.html" class="mobile-nav-link">
                        <i class="fas fa-chart-line"></i>
                        <span>Scorecards</span>
                    </a>
                    <a href="leaderboard.html" class="mobile-nav-link">
                        <i class="fas fa-medal"></i>
                        <span>Leaderboards</span>
                    </a>
                    <a href="lobby.html" class="mobile-nav-link">
                        <i class="fas fa-users-cog"></i>
                        <span>Lobby</span>
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <main class="lobby-settings-container">
        <!-- Compact Settings Header -->
        <section class="settings-header-compact">
            <div class="header-content">
                <div class="header-left">
                    <a href="lobby.html" class="back-btn">
                        <i class="fas fa-arrow-left"></i>
                        Back to Lobby
                    </a>
                    <div class="header-title-compact">
                        <h1>
                            <i class="fas fa-cog"></i>
                            Settings
                        </h1>
                    </div>
                </div>
                <div class="header-actions">
                    <button class="action-btn secondary" onclick="resetAllSettings()">
                        <i class="fas fa-undo"></i>
                        Reset
                    </button>
                    <button class="action-btn primary" onclick="saveAllSettings()">
                        <i class="fas fa-save"></i>
                        Save
                    </button>
                </div>
            </div>
        </section>

        <div class="settings-main-content">
            <!-- Left Column: Settings Navigation -->
            <div class="settings-sidebar">
                <!-- Settings Description -->
                <div class="settings-description">
                    <h2>Lobby & Account Settings</h2>
                    <p>Manage your lobby preferences, account settings, and application options</p>
                </div>
                
                <nav class="settings-nav">
                    <div class="nav-section">
                        <h3>Lobby Settings</h3>
                        <a href="#lobby-preferences" class="settings-nav-item active" data-section="lobby-preferences">
                            <i class="fas fa-users-cog"></i>
                            <span>Lobby Preferences</span>
                        </a>
                        <a href="#display-settings" class="settings-nav-item" data-section="display-settings">
                            <i class="fas fa-desktop"></i>
                            <span>Display & Theme</span>
                        </a>
                        <a href="#notifications" class="settings-nav-item" data-section="notifications">
                            <i class="fas fa-bell"></i>
                            <span>Notifications</span>
                        </a>
                    </div>
                    <div class="nav-section">
                        <h3>Account Management</h3>
                        <a href="#profile-settings" class="settings-nav-item" data-section="profile-settings">
                            <i class="fas fa-user"></i>
                            <span>Profile Settings</span>
                        </a>
                        <a href="#transaction-history" class="settings-nav-item" data-section="transaction-history">
                            <i class="fas fa-receipt"></i>
                            <span>Transaction History</span>
                        </a>
                        <a href="#privacy-security" class="settings-nav-item" data-section="privacy-security">
                            <i class="fas fa-shield-alt"></i>
                            <span>Privacy & Security</span>
                        </a>
                    </div>
                    <div class="nav-section">
                        <h3>Support</h3>
                        <a href="#help-support" class="settings-nav-item" data-section="help-support">
                            <i class="fas fa-question-circle"></i>
                            <span>Help & Support</span>
                        </a>
                        <a href="#about" class="settings-nav-item" data-section="about">
                            <i class="fas fa-info-circle"></i>
                            <span>About</span>
                        </a>
                    </div>
                </nav>
            </div>

            <!-- Right Column: Settings Content -->
            <div class="settings-content">
                <!-- Lobby Preferences Section -->
                <section id="lobby-preferences" class="settings-section active">
                    <div class="section-header">
                        <h2>
                            <i class="fas fa-users-cog"></i>
                            Lobby Preferences
                        </h2>
                        <p>Customize your lobby experience and data display options</p>
                    </div>

                    <div class="settings-grid">
                        <div class="settings-card glass-card">
                            <h3>
                                <i class="fas fa-sync-alt"></i>
                                Auto-Refresh Settings
                            </h3>
                            <div class="setting-item">
                                <label for="refreshInterval">Data Refresh Interval</label>
                                <select id="refreshInterval" class="settings-select">
                                    <option value="15">15 seconds</option>
                                    <option value="30" selected>30 seconds</option>
                                    <option value="60">1 minute</option>
                                    <option value="300">5 minutes</option>
                                    <option value="0">Manual only</option>
                                </select>
                                <p class="setting-description">How often the lobby data should automatically refresh</p>
                            </div>
                            <div class="setting-item">
                                <label class="toggle-setting">
                                    <span>Enable Auto-Refresh</span>
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="autoRefreshEnabled" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                </label>
                                <p class="setting-description">Automatically update data without manual refresh</p>
                            </div>
                        </div>

                        <div class="settings-card glass-card">
                            <h3>
                                <i class="fas fa-chart-bar"></i>
                                Default Views
                            </h3>
                            <div class="setting-item">
                                <label for="defaultRankingView">Default Ranking View</label>
                                <select id="defaultRankingView" class="settings-select">
                                    <option value="global" selected>Global Rankings</option>
                                    <option value="friends">Friends Only</option>
                                    <option value="weekly">Weekly Rankings</option>
                                </select>
                                <p class="setting-description">Which ranking view to show when you enter the lobby</p>
                            </div>
                            <div class="setting-item">
                                <label for="defaultStatsPeriod">Default Stats Period</label>
                                <select id="defaultStatsPeriod" class="settings-select">
                                    <option value="week">This Week</option>
                                    <option value="month" selected>This Month</option>
                                    <option value="season">This Season</option>
                                    <option value="all">All Time</option>
                                </select>
                                <p class="setting-description">Default time period for performance statistics</p>
                            </div>
                        </div>

                        <div class="settings-card glass-card">
                            <h3>
                                <i class="fas fa-eye"></i>
                                Display Options
                            </h3>
                            <div class="setting-item">
                                <label class="toggle-setting">
                                    <span>Show Player Status Indicators</span>
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="showPlayerStatus" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                </label>
                                <p class="setting-description">Display online/offline status for other players</p>
                            </div>
                            <div class="setting-item">
                                <label class="toggle-setting">
                                    <span>Show Rank Change Indicators</span>
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="showRankChanges" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                </label>
                                <p class="setting-description">Show up/down arrows for ranking changes</p>
                            </div>
                            <div class="setting-item">
                                <label class="toggle-setting">
                                    <span>Compact Activity Feed</span>
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="compactActivity">
                                        <span class="toggle-slider"></span>
                                    </label>
                                </label>
                                <p class="setting-description">Use a more condensed view for recent activities</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Display Settings Section -->
                <section id="display-settings" class="settings-section">
                    <div class="section-header">
                        <h2>
                            <i class="fas fa-desktop"></i>
                            Display & Theme
                        </h2>
                        <p>Customize the appearance and visual settings</p>
                    </div>

                    <div class="settings-grid">
                        <div class="settings-card glass-card">
                            <h3>
                                <i class="fas fa-palette"></i>
                                Theme Settings
                            </h3>
                            <div class="setting-item">
                                <label>Color Theme</label>
                                <div class="theme-selector">
                                    <button class="theme-option active" data-theme="teal">
                                        <div class="theme-preview teal"></div>
                                        <span>Teal (Default)</span>
                                    </button>
                                    <button class="theme-option" data-theme="blue">
                                        <div class="theme-preview blue"></div>
                                        <span>Blue</span>
                                    </button>
                                    <button class="theme-option" data-theme="green">
                                        <div class="theme-preview green"></div>
                                        <span>Green</span>
                                    </button>
                                </div>
                            </div>
                            <div class="setting-item">
                                <label class="toggle-setting">
                                    <span>Dark Mode</span>
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="darkModeToggleSettings" onclick="toggleDarkMode()">
                                        <span class="toggle-slider"></span>
                                    </label>
                                </label>
                                <p class="setting-description">Switch between light and dark theme</p>
                            </div>
                            <div class="setting-item">
                                <label class="toggle-setting">
                                    <span>Auto Dark Mode</span>
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="autoDarkMode">
                                        <span class="toggle-slider"></span>
                                    </label>
                                </label>
                                <p class="setting-description">Automatically switch to dark mode at sunset</p>
                            </div>
                        </div>

                        <div class="settings-card glass-card">
                            <h3>
                                <i class="fas fa-text-height"></i>
                                Typography & Layout
                            </h3>
                            <div class="setting-item">
                                <label for="fontSize">Font Size</label>
                                <select id="fontSize" class="settings-select">
                                    <option value="small">Small</option>
                                    <option value="medium" selected>Medium</option>
                                    <option value="large">Large</option>
                                </select>
                                <p class="setting-description">Adjust text size throughout the application</p>
                            </div>
                            <div class="setting-item">
                                <label class="toggle-setting">
                                    <span>Reduce Motion</span>
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="reduceMotion">
                                        <span class="toggle-slider"></span>
                                    </label>
                                </label>
                                <p class="setting-description">Minimize animations and transitions</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Notifications Section -->
                <section id="notifications" class="settings-section">
                    <div class="section-header">
                        <h2>
                            <i class="fas fa-bell"></i>
                            Notifications
                        </h2>
                        <p>Manage when and how you receive notifications</p>
                    </div>

                    <div class="settings-grid">
                        <div class="settings-card glass-card">
                            <h3>
                                <i class="fas fa-trophy"></i>
                                Tournament Notifications
                            </h3>
                            <div class="setting-item">
                                <label class="toggle-setting">
                                    <span>Tournament Results</span>
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="tournamentResults" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                </label>
                                <p class="setting-description">Get notified when tournaments you're in finish</p>
                            </div>
                            <div class="setting-item">
                                <label class="toggle-setting">
                                    <span>Live Score Updates</span>
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="liveUpdates" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                </label>
                                <p class="setting-description">Real-time notifications during active tournaments</p>
                            </div>
                            <div class="setting-item">
                                <label class="toggle-setting">
                                    <span>New Tournament Alerts</span>
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="newTournaments">
                                        <span class="toggle-slider"></span>
                                    </label>
                                </label>
                                <p class="setting-description">Notify when new tournaments become available</p>
                            </div>
                        </div>

                        <div class="settings-card glass-card">
                            <h3>
                                <i class="fas fa-users"></i>
                                Social Notifications
                            </h3>
                            <div class="setting-item">
                                <label class="toggle-setting">
                                    <span>Friend Activity</span>
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="friendActivity" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                </label>
                                <p class="setting-description">Notifications when friends join tournaments or achieve milestones</p>
                            </div>
                            <div class="setting-item">
                                <label class="toggle-setting">
                                    <span>Ranking Changes</span>
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="rankingChanges" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                </label>
                                <p class="setting-description">Get notified when your global ranking changes significantly</p>
                            </div>
                        </div>

                        <div class="settings-card glass-card">
                            <h3>
                                <i class="fas fa-cog"></i>
                                Notification Settings
                            </h3>
                            <div class="setting-item">
                                <label for="notificationSound">Notification Sound</label>
                                <select id="notificationSound" class="settings-select">
                                    <option value="none">None (Silent)</option>
                                    <option value="default" selected>Default</option>
                                    <option value="chime">Chime</option>
                                    <option value="golf">Golf Theme</option>
                                </select>
                            </div>
                            <div class="setting-item">
                                <label class="toggle-setting">
                                    <span>Browser Notifications</span>
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="browserNotifications" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                </label>
                                <p class="setting-description">Allow browser notifications when tab is not active</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Profile Settings Section -->
                <section id="profile-settings" class="settings-section">
                    <div class="section-header">
                        <h2>
                            <i class="fas fa-user"></i>
                            Profile Settings
                        </h2>
                        <p>Manage your personal information and account preferences</p>
                    </div>

                    <div class="settings-grid">
                        <div class="settings-card glass-card">
                            <h3>
                                <i class="fas fa-id-card"></i>
                                Personal Information
                            </h3>
                            <div class="setting-item">
                                <label for="displayName">Display Name</label>
                                <input type="text" id="displayName" class="settings-input" value="John Smith">
                                <p class="setting-description">This name will be shown to other players</p>
                            </div>
                            <div class="setting-item">
                                <label for="email">Email Address</label>
                                <input type="email" id="email" class="settings-input" value="john.smith@example.com">
                                <p class="setting-description">Used for account recovery and notifications</p>
                            </div>
                            <div class="setting-item">
                                <label for="timezone">Timezone</label>
                                <select id="timezone" class="settings-select">
                                    <option value="UTC">UTC</option>
                                    <option value="GMT" selected>GMT (London)</option>
                                    <option value="EST">EST (New York)</option>
                                    <option value="PST">PST (Los Angeles)</option>
                                </select>
                            </div>
                        </div>

                        <div class="settings-card glass-card">
                            <h3>
                                <i class="fas fa-image"></i>
                                Avatar & Appearance
                            </h3>
                            <div class="setting-item">
                                <label>Profile Avatar</label>
                                <div class="avatar-upload">
                                    <div class="current-avatar">
                                        <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=80&h=80&fit=crop&crop=face" alt="Current Avatar" id="currentAvatar">
                                    </div>
                                    <div class="avatar-actions">
                                        <button class="btn secondary" onclick="changeAvatar()">
                                            <i class="fas fa-camera"></i>
                                            Change Avatar
                                        </button>
                                        <button class="btn secondary" onclick="removeAvatar()">
                                            <i class="fas fa-trash"></i>
                                            Remove
                                        </button>
                                    </div>
                                </div>
                                <input type="file" id="avatarInput" accept="image/*" style="display: none;">
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Transaction History Section -->
                <section id="transaction-history" class="settings-section">
                    <div class="section-header">
                        <h2>
                            <i class="fas fa-receipt"></i>
                            Transaction History
                        </h2>
                        <p>View your complete transaction and activity history</p>
                    </div>

                    <div class="transaction-filters glass-card">
                        <div class="filter-row">
                            <div class="filter-item">
                                <label for="transactionType">Transaction Type</label>
                                <select id="transactionType" class="settings-select">
                                    <option value="all">All Transactions</option>
                                    <option value="deposits">Deposits</option>
                                    <option value="withdrawals">Withdrawals</option>
                                    <option value="tournament-entries">Tournament Entries</option>
                                    <option value="winnings">Winnings</option>
                                </select>
                            </div>
                            <div class="filter-item">
                                <label for="dateRange">Date Range</label>
                                <select id="dateRange" class="settings-select">
                                    <option value="7">Last 7 days</option>
                                    <option value="30" selected>Last 30 days</option>
                                    <option value="90">Last 90 days</option>
                                    <option value="all">All time</option>
                                </select>
                            </div>
                            <div class="filter-actions">
                                <button class="btn primary" onclick="filterTransactions()">
                                    <i class="fas fa-filter"></i>
                                    Apply Filter
                                </button>
                                <button class="btn secondary" onclick="exportTransactions()">
                                    <i class="fas fa-download"></i>
                                    Export CSV
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="transaction-list glass-card">
                        <div class="transaction-item">
                            <div class="transaction-icon win">
                                <i class="fas fa-trophy"></i>
                            </div>
                            <div class="transaction-details">
                                <div class="transaction-title">Tournament Winnings - PGA Championship</div>
                                <div class="transaction-date">October 17, 2025 â¢ 14:30</div>
                            </div>
                            <div class="transaction-amount positive">+Â£145.00</div>
                        </div>
                        
                        <div class="transaction-item">
                            <div class="transaction-icon entry">
                                <i class="fas fa-golf-ball"></i>
                            </div>
                            <div class="transaction-details">
                                <div class="transaction-title">Tournament Entry - Masters Elite</div>
                                <div class="transaction-date">October 16, 2025 â¢ 09:15</div>
                            </div>
                            <div class="transaction-amount negative">-Â£50.00</div>
                        </div>
                        
                        <div class="transaction-item">
                            <div class="transaction-icon deposit">
                                <i class="fas fa-credit-card"></i>
                            </div>
                            <div class="transaction-details">
                                <div class="transaction-title">Account Deposit</div>
                                <div class="transaction-date">October 15, 2025 â¢ 16:45</div>
                            </div>
                            <div class="transaction-amount positive">+Â£200.00</div>
                        </div>
                        
                        <div class="transaction-item">
                            <div class="transaction-icon win">
                                <i class="fas fa-star"></i>
                            </div>
                            <div class="transaction-details">
                                <div class="transaction-title">Tournament Winnings - European Tour</div>
                                <div class="transaction-date">October 14, 2025 â¢ 18:22</div>
                            </div>
                            <div class="transaction-amount positive">+Â£73.50</div>
                        </div>
                    </div>
                </section>

                <!-- Privacy & Security Section -->
                <section id="privacy-security" class="settings-section">
                    <div class="section-header">
                        <h2>
                            <i class="fas fa-shield-alt"></i>
                            Privacy & Security
                        </h2>
                        <p>Manage your privacy settings and account security</p>
                    </div>

                    <div class="settings-grid">
                        <div class="settings-card glass-card">
                            <h3>
                                <i class="fas fa-lock"></i>
                                Account Security
                            </h3>
                            <div class="setting-item">
                                <label>Change Password</label>
                                <button class="btn secondary full-width" onclick="changePassword()">
                                    <i class="fas fa-key"></i>
                                    Update Password
                                </button>
                                <p class="setting-description">Last changed: September 15, 2025</p>
                            </div>
                            <div class="setting-item">
                                <label class="toggle-setting">
                                    <span>Two-Factor Authentication</span>
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="twoFactorAuth">
                                        <span class="toggle-slider"></span>
                                    </label>
                                </label>
                                <p class="setting-description">Add an extra layer of security to your account</p>
                            </div>
                        </div>

                        <div class="settings-card glass-card">
                            <h3>
                                <i class="fas fa-eye-slash"></i>
                                Privacy Settings
                            </h3>
                            <div class="setting-item">
                                <label class="toggle-setting">
                                    <span>Show Profile to Other Players</span>
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="publicProfile" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                </label>
                                <p class="setting-description">Allow other players to view your profile and statistics</p>
                            </div>
                            <div class="setting-item">
                                <label class="toggle-setting">
                                    <span>Show Online Status</span>
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="showOnlineStatus" checked>
                                        <span class="toggle-slider"></span>
                                    </label>
                                </label>
                                <p class="setting-description">Let other players see when you're online</p>
                            </div>
                        </div>

                        <div class="settings-card glass-card danger-zone">
                            <h3>
                                <i class="fas fa-exclamation-triangle"></i>
                                Danger Zone
                            </h3>
                            <div class="setting-item">
                                <label>Delete Account</label>
                                <button class="btn danger" onclick="confirmDeleteAccount()">
                                    <i class="fas fa-trash"></i>
                                    Delete My Account
                                </button>
                                <p class="setting-description">This action cannot be undone. All your data will be permanently deleted.</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Help & Support Section -->
                <section id="help-support" class="settings-section">
                    <div class="section-header">
                        <h2>
                            <i class="fas fa-question-circle"></i>
                            Help & Support
                        </h2>
                        <p>Get help and support for your account</p>
                    </div>

                    <div class="settings-grid">
                        <div class="settings-card glass-card">
                            <h3>
                                <i class="fas fa-life-ring"></i>
                                Support Options
                            </h3>
                            <div class="support-options">
                                <button class="support-btn" onclick="openLiveChat()">
                                    <i class="fas fa-comments"></i>
                                    <div>
                                        <div class="support-title">Live Chat</div>
                                        <div class="support-desc">Get instant help from our support team</div>
                                    </div>
                                </button>
                                <button class="support-btn" onclick="sendEmail()">
                                    <i class="fas fa-envelope"></i>
                                    <div>
                                        <div class="support-title">Email Support</div>
                                        <div class="support-desc">Send us a detailed message</div>
                                    </div>
                                </button>
                                <button class="support-btn" onclick="openFAQ()">
                                    <i class="fas fa-question"></i>
                                    <div>
                                        <div class="support-title">FAQ</div>
                                        <div class="support-desc">Find answers to common questions</div>
                                    </div>
                                </button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- About Section -->
                <section id="about" class="settings-section">
                    <div class="section-header">
                        <h2>
                            <i class="fas fa-info-circle"></i>
                            About
                        </h2>
                        <p>Information about InPlay TV and your account</p>
                    </div>

                    <div class="settings-grid">
                        <div class="settings-card glass-card">
                            <h3>
                                <i class="fas fa-golf-ball"></i>
                                InPlay TV
                            </h3>
                            <div class="about-info">
                                <div class="info-item">
                                    <span class="info-label">Version:</span>
                                    <span class="info-value">2.1.0</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">Account Created:</span>
                                    <span class="info-value">March 15, 2024</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">Last Login:</span>
                                    <span class="info-value">October 18, 2025 â¢ 10:30 AM</span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label">Total Tournaments:</span>
                                    <span class="info-value">234</span>
                                </div>
                            </div>
                            
                            <div class="about-links">
                                <a href="#" class="about-link">
                                    <i class="fas fa-file-alt"></i>
                                    Terms of Service
                                </a>
                                <a href="#" class="about-link">
                                    <i class="fas fa-shield-alt"></i>
                                    Privacy Policy
                                </a>
                                <a href="#" class="about-link">
                                    <i class="fas fa-cookie-bite"></i>
                                    Cookie Policy
                                </a>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </main>

    <!-- Scripts -->
    <script src="script.js"></script>
    <script src="common-dark-mode.js"></script>
    <script>
        // Settings page functionality
        document.addEventListener('DOMContentLoaded', function() {
            initializeSettingsPage();
        });

        function initializeSettingsPage() {
            // Settings navigation
            document.querySelectorAll('.settings-nav-item').forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    const sectionId = this.dataset.section;
                    showSettingsSection(sectionId);
                });
            });

            // Theme selector
            document.querySelectorAll('.theme-option').forEach(option => {
                option.addEventListener('click', function() {
                    document.querySelectorAll('.theme-option').forEach(o => o.classList.remove('active'));
                    this.classList.add('active');
                    changeTheme(this.dataset.theme);
                });
            });

            // Load saved settings
            loadSavedSettings();
        }

        function showSettingsSection(sectionId) {
            // Hide all sections
            document.querySelectorAll('.settings-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Remove active from nav items
            document.querySelectorAll('.settings-nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Show selected section
            document.getElementById(sectionId).classList.add('active');
            document.querySelector(`[data-section="${sectionId}"]`).classList.add('active');
        }

        function changeTheme(theme) {
            document.documentElement.setAttribute('data-theme', theme);
            localStorage.setItem('selectedTheme', theme);
        }

        function loadSavedSettings() {
            // Load theme
            const savedTheme = localStorage.getItem('selectedTheme');
            if (savedTheme) {
                document.querySelector(`[data-theme="${savedTheme}"]`).click();
            }

            // Load dark mode state
            const isDarkMode = localStorage.getItem('darkMode') === 'true';
            document.getElementById('darkModeToggleSettings').checked = isDarkMode;
        }

        function saveAllSettings() {
            // Collect all settings
            const settings = {
                refreshInterval: document.getElementById('refreshInterval').value,
                autoRefreshEnabled: document.getElementById('autoRefreshEnabled').checked,
                defaultRankingView: document.getElementById('defaultRankingView').value,
                defaultStatsPeriod: document.getElementById('defaultStatsPeriod').value,
                showPlayerStatus: document.getElementById('showPlayerStatus').checked,
                showRankChanges: document.getElementById('showRankChanges').checked,
                compactActivity: document.getElementById('compactActivity').checked,
                // Add more settings as needed
            };

            // Save to localStorage
            localStorage.setItem('lobbySettings', JSON.stringify(settings));
            
            // Show success message
            showNotification('Settings saved successfully!', 'success');
        }

        function resetAllSettings() {
            if (confirm('Are you sure you want to reset all settings to defaults? This cannot be undone.')) {
                localStorage.removeItem('lobbySettings');
                localStorage.removeItem('selectedTheme');
                
                // Reset form values
                document.getElementById('refreshInterval').value = '30';
                document.getElementById('autoRefreshEnabled').checked = true;
                document.getElementById('defaultRankingView').value = 'global';
                // Reset other fields...
                
                showNotification('All settings have been reset to defaults.', 'info');
            }
        }

        function showNotification(message, type) {
            // Simple notification system
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'success' ? '#10b981' : '#3b82f6'};
                color: white;
                padding: 12px 20px;
                border-radius: 8px;
                z-index: 1000;
                opacity: 0;
                transform: translateY(-20px);
                transition: all 0.3s ease;
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.opacity = '1';
                notification.style.transform = 'translateY(0)';
            }, 100);
            
            setTimeout(() => {
                notification.style.opacity = '0';
                notification.style.transform = 'translateY(-20px)';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // Placeholder functions for various actions
        function changePassword() {
            alert('Password change functionality would be implemented here');
        }

        function changeAvatar() {
            document.getElementById('avatarInput').click();
        }

        function removeAvatar() {
            if (confirm('Are you sure you want to remove your avatar?')) {
                document.getElementById('currentAvatar').src = 'default-avatar.png';
            }
        }

        function filterTransactions() {
            showNotification('Filtering transactions...', 'info');
        }

        function exportTransactions() {
            showNotification('Exporting transaction history...', 'info');
        }

        function confirmDeleteAccount() {
            if (confirm('Are you absolutely sure you want to delete your account? This action cannot be undone and all your data will be permanently lost.')) {
                alert('Account deletion would be implemented here with proper security checks');
            }
        }

        function openLiveChat() {
            showNotification('Opening live chat...', 'info');
        }

        function sendEmail() {
            showNotification('Opening email support...', 'info');
        }

        function openFAQ() {
            window.open('#', '_blank');
        }

        // Dropdown functions (moved from original dropdown)
        function showTransactionHistory() {
            showSettingsSection('transaction-history');
        }

        function showNotifications() {
            showSettingsSection('notifications');
        }

        function showHelp() {
            showSettingsSection('help-support');
        }

        function handleLogout() {
            if (confirm('Are you sure you want to sign out?')) {
                window.location.href = 'login.html';
            }
        }
    </script>
</body>
</html>